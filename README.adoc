= Norske epitafier

Dette repoet inneholder data for «Norske epitafier» som XML-filer,
samt script for å konvertere postene til Dublin Core og laste dem opp til Alma Digital.

== Dublin Core applikasjonsprofil

Definisjon av felter som brukes i xml-versjonen av katalogen, og hvilke felter disse skal korrespondere med i DC application profile 1 i UBOs katalog.

Feltene i Alma Digital konfigureres i ExLibris Alma under `Alma Configuration > Resources > Cataloging > Metadata Configuration > DC application profile 1`

Språkvalg for skjemaet:
engelske felt/egenskaper og norske etiketter/labels. [utviklingsønske: etiketter på flere språk]

Felter som er i bruk for denne samlingen (pr 23.04.2020):

=== Tittel
[cols="35s,65", stripes=odd]
|===
|URI | dc:title
|Beskrivelse | Generert standardtekst på formen «Norske epitafier 1550–1700: Epitafium over N»
|===

=== Epitafium over (skjult fordi feltet inngår i tittel)
|===
|URI | :epitaphOn
|Beskrivelse | Person(er) som epitafiet er til minne over. Eksempel: «Christen Jensen (Sorenskriver) og hustru Gye Lauridtzdatter, med barn»
|===

=== Dato
[cols="35s,65", stripes=odd]
|===
|URI | dc:date
|Beskrivelse | Datering (omtrentlig eller eksakt) for når epitafiet ble fremstilt. Omtrentlige verdier kan f.eks. ha formen «1590-tallet» og «ca. 1630».
|===

=== Plassering
[cols="35s,65", stripes=odd]
|===
|URI | :location
|Underegenskap av | dc:spatial
|Beskrivelse | Nåværende plassering, typisk navn på et museum eller en kirke
|===

=== Opprinnelig plassering
|===
|URI | :originalLocation
|Underegenskap av | dc:spatial
|Beskrivelse | Kirke epitafiet opprinnelig var plassert i.
|===

=== Stift
|===
|URI | :diocese
|Beskrivelse | Historisk stift, slik de så ut rundt ca. 1700. Fire mulige verdier: «Bergen», «Oslo/Christiania», «Stavanger» eller «Trondhjem».
|===

=== Kunstner
[cols="35s,65", stripes=odd]
|===
|URI | :artist
|Underegenskap av | dc:creator
|Beskrivelse | Person(er) som har fremstilt epitafiet. Ofte ukjent. Feltet kan ha komplekse verdier som «X har stått for utskjæringene, Y har malt bildet.» og «Antagelig utformet av X.»
|===

=== Beskrivelse
[cols="35s,65", stripes=odd]
|===
|URI | dc:description
|Beskrivelse | Fysisk beskrivelse av epitafiet. Eks: ...
|===

=== Innskrifter
[cols="35s,65", stripes=odd]
|===
|URI | :inscriptions
|Beskrivelse | Feltet inneholder alle innskrifter, samt overskrifter. Er html-formatert med avsnitt pga. manglende formateringsmuligheter i visning.
|===

=== Merknader
[cols="35s,65", stripes=odd]
|===
|URI | :notes
|Beskrivelse | (Fylles inn)
|===

=== Referanser
[cols="35s,65", stripes=odd]
|===
|URI | dcterms:bibliographicCitation
|Beskrivelse | Referanser til omtale av epitafiet.
|===

=== Rettigheter (?)
[cols="35s,65", stripes=odd]
|===
|URI | dc:rights
|Beskrivelse | (Ikke avklart helt enda. Vi har rettighetsinformasjon på både tekst og foto)
|===

=== Kilde (?)
[cols="35s,65", stripes=odd]
|===
|URI | dcterms:source
|Beskrivelse | Standardtekst som går igjen på alle epitafiene. Eksempel: ..
|===

=== Katalogkode
|===
|URI | :catalogCode
|Underegenskap av | dc:identifier
|Beskrivelse |
|===

=== Identifikator (skjult)
[cols="35s,65", stripes=odd]
|===
|URI | dc:identifier
|Beskrivelse | Per i dag flere funksjoner: Intern Alma-ID (MMS-ID), filnavn ved ingest (veldig rar løsning).
|===



== Konvertering

=== Oppsett

Hent inn avhengigheter med pipenv:

	pipenv install

Lag en `.env`-fil for hemmeligheter:

	cp .env.dist .env

og legg nøkler for Alma og S3 her.

=== Konvertere

For å konvertere poster fra lokalt XML-format til Dublin Core:

	pipenv -m scripts.convert

=== Laste opp

For å laste opp til Alma:

	pipenv -m scripts.upload

=== Synkronisere ID-er

Når postene har blitt importert i Alma bør man hente ned ID-ene som har blitt generert for postene:

	pipenv -m scripts.fetch_ids

Disse lagres i fila `alma_ids.json`.
